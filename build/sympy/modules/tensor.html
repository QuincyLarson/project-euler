

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tensor Module &mdash; SymPy v0.7.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script>
    <link rel="top" title="SymPy v0.7.1 documentation" href="../index.html" />
    <link rel="up" title="SymPy Modules Reference" href="index.html" />
    <link rel="next" title="Utilities" href="utilities/index.html" />
    <link rel="prev" title="Solvers" href="solvers/solvers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities/index.html" title="Utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="solvers/solvers.html" title="Solvers"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">SymPy v0.7.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-sympy.tensor.indexed">
<span id="id1"></span><span id="tensor-module"></span><h1>Tensor Module<a class="headerlink" href="#module-sympy.tensor.indexed" title="Permalink to this headline">¶</a></h1>
<p>Module that defines indexed objects</p>
<p>The classes IndexedBase, Indexed and Idx would represent a matrix element
M[i, j] as in the following graph:</p>
<div class="highlight-python"><pre>1) The Indexed class represents the entire indexed object.
           |
        ___|___
       '       '
        M[i, j]
       /   \__\______
       |             |
       |             |
       |     2) The Idx class represent indices and each Idx can
       |        optionally contain information about its range.
       |
 3) IndexedBase represents the `stem' of an indexed object, here `M'.
    The stem used by itself is usually taken to represent the entire
    array.</pre>
</div>
<p>There can be any number of indices on an Indexed object.  No transformation
properties are implemented in these Base objects, but implicit contraction
of repeated indices is supported.</p>
<p>Note that the support for complicated (i.e. non-atomic) integer expressions
as indices is limited.  (This should be improved in future releases.)</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To express the above matrix element example you would write:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">Idx</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
<span class="go">M[i, j]</span>
</pre></div>
</div>
<p>Repreated indices in a product implies a summation, so to express a
matrix-vector product in terms of Indexed objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="go">M[i, j]*x[j]</span>
</pre></div>
</div>
<p>If the indexed objects will be converted to component based arrays, e.g.
with the code printers or the autowrap framework, you also need to provide
(symbolic or numerical) dimensions.  This can be done by passing an
optional shape parameter to IndexedBase upon construction:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;dim1 dim2&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">dim1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">dim1</span><span class="p">,</span> <span class="n">dim2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(dim1, 2*dim1, dim2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(dim1, 2*dim1, dim2)</span>
</pre></div>
</div>
<p>If an IndexedBase object has no shape information, it is assumed that the
array is as large as the ranges of it&#8217;s indices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;n m&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(m, n)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ranges</span>
<span class="go">[(0, m - 1), (0, n - 1)]</span>
</pre></div>
</div>
<p>The above can be compared with the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(dim1, 2*dim1, dim2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ranges</span>
<span class="go">[(0, m - 1), None, (0, n - 1)]</span>
</pre></div>
</div>
<p>To analyze the structure of indexed expressions, you can use the methods
get_indices() and get_contraction_structure():</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">get_indices</span><span class="p">,</span> <span class="n">get_contraction_structure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_indices</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
<span class="go">(set([i]), {})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
<span class="go">{(j,): set([A[i, j, j]])}</span>
</pre></div>
</div>
<p>See the appropriate docstrings for a detailed explanation of the output.</p>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="sympy.tensor.indexed.IndexedBase">
<em class="property">class </em><tt class="descclassname">sympy.tensor.indexed.</tt><tt class="descname">IndexedBase</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#IndexedBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.IndexedBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent the base or stem of an indexed object</p>
<p>The IndexedBase class represent an array that contains elements. The main purpose
of this class is to allow the convenient creation of objects of the Indexed
class.  The __getitem__ method of IndexedBase returns an instance of
Indexed.  Alone, without indices, the IndexedBase class can be used as a
notation for e.g. matrix equations, resembling what you could do with the
Symbol class.  But, the IndexedBase class adds functionality that is not
available for Symbol instances:</p>
<blockquote>
<div><ul class="simple">
<li>An IndexedBase object can optionally store shape information.  This can
be used in to check array conformance and conditions for numpy
broadcasting.  (TODO)</li>
<li>An IndexedBase object implements syntactic sugar that allows easy symbolic
representation of array operations, using implicit summation of
repeated indices.</li>
<li>The IndexedBase object symbolizes a mathematical structure equivalent
to arrays, and is recognized as such for code generation and automatic
compilation and wrapping.</li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">);</span> <span class="n">A</span>
<span class="go">A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sympy.tensor.indexed.IndexedBase&#39;&gt;</span>
</pre></div>
</div>
<p>When an IndexedBase object recieves indices, it returns an array with named
axes, represented by an Indexed object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;i j&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">A[i, j, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">&lt;class &#39;sympy.tensor.indexed.Indexed&#39;&gt;</span>
</pre></div>
</div>
<p>The IndexedBase constructor takes an optional shape argument.  If given,
it overrides any shape information in the indices. (But not the index
ranges!)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;m n o p&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(m, n)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(o, p)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sympy.tensor.indexed.Idx">
<em class="property">class </em><tt class="descclassname">sympy.tensor.indexed.</tt><tt class="descname">Idx</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an index, either symbolic or integer.</p>
<p>There are a number of ways to create an Idx object.  The constructor
takes two arguments:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">label</span></tt></dt>
<dd>An integer or a symbol that labels the index.</dd>
<dt><tt class="docutils literal"><span class="pre">range</span></tt></dt>
<dd><p class="first">Optionally you can specify a range as either</p>
<blockquote class="last">
<div><ul class="simple">
<li>Symbol or integer: This is interpreted as dimension. lower and
upper ranges are set to 0 and range-1</li>
<li>tuple: This is interpreted as the lower and upper bounds in the
range.</li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>Note that the Idx constructor is rather pedantic, and will not accept
non-integer symbols.  The only exception is that you can use oo and -oo to
specify an unbounded range.  For all other cases, both label and bounds
must be declared as integers, in the sense that for a index label n,
n.is_integer must return True.</p>
<p>For convenience, if the label is given as a string, it is automatically
converted to an integer symbol.  (Note that this conversion is not done for
range or dimension arguments.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Examples :</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">oo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">U</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;n i L U&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>0) Construction from a string.  An integer symbol is created from the
string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Idx</span><span class="p">(</span><span class="s">&#39;qwerty&#39;</span><span class="p">)</span>
<span class="go">qwerty</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>Both upper and lower bound specified</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">U</span><span class="p">));</span> <span class="n">idx</span>
<span class="go">i</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(L, U)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Only dimension specified, lower bound defaults to 0</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span> <span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(0, n - 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(0, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">oo</span><span class="p">);</span> <span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(0, oo)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>No bounds given, interpretation of this depends on context.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="n">i</span><span class="p">);</span> <span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(None, None)</span>
</pre></div>
</div>
<p>4) for a literal integer instead of a symbolic label the bounds are still
there:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span> <span class="n">idx</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">idx</span><span class="o">.</span><span class="n">upper</span>
<span class="go">(0, n - 1)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="sympy.tensor.indexed.Idx.label">
<tt class="descname">label</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Idx.label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Idx.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name/label of the index, or it&#8217;s integer value</p>
</dd></dl>

<dl class="attribute">
<dt id="sympy.tensor.indexed.Idx.lower">
<tt class="descname">lower</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Idx.lower"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Idx.lower" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lower bound of the index</p>
</dd></dl>

<dl class="attribute">
<dt id="sympy.tensor.indexed.Idx.upper">
<tt class="descname">upper</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Idx.upper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Idx.upper" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the upper bound of the index</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sympy.tensor.indexed.Indexed">
<em class="property">class </em><tt class="descclassname">sympy.tensor.indexed.</tt><tt class="descname">Indexed</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Indexed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Indexed" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a mathematical object with indices.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">Indexed</span><span class="p">,</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">Idx</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Indexed</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
<span class="go">A[i, j]</span>
</pre></div>
</div>
<p>It is recommended that Indexed objects are created via IndexedBase:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Indexed</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="sympy.tensor.indexed.Indexed.ranges">
<tt class="descname">ranges</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Indexed.ranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Indexed.ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of tuples with lower and upper range of each index</p>
<p>If an index does not define the data members upper and lower, the
corresponding slot in the list contains <a href="#id2"><span class="problematic" id="id3">``</span></a>None&#8217;&#8217; instead of a tuple.</p>
</dd></dl>

<dl class="attribute">
<dt id="sympy.tensor.indexed.Indexed.rank">
<tt class="descname">rank</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Indexed.rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Indexed.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of indices</p>
</dd></dl>

<dl class="attribute">
<dt id="sympy.tensor.indexed.Indexed.shape">
<tt class="descname">shape</tt><a class="reference internal" href="../_modules/sympy/tensor/indexed.html#Indexed.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.indexed.Indexed.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list with dimensions of each index.</p>
<p>Dimensions is a property of the array, not of the indices.  Still, if
the IndexedBase does not define a shape attribute, it is assumed that
the ranges of the indices correspond to the shape of the array.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor.indexed</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;n m&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">j</span> <span class="o">=</span> <span class="n">Idx</span><span class="p">(</span><span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">IndexedBase</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(n, n)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(m, m)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sympy.tensor.index_methods.get_indices">
<tt class="descclassname">sympy.tensor.index_methods.</tt><tt class="descname">get_indices</tt><big>(</big><em>expr</em><big>)</big><a class="reference internal" href="../_modules/sympy/tensor/index_methods.html#get_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.index_methods.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the outer indices of expression <tt class="docutils literal"><span class="pre">expr</span></tt></p>
<p>By <em>outer</em> we mean indices that are not summation indices.  Returns a set
and a dict.  The set contains outer indices and the dict contains
information about index symmetries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Examples :</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor.index_methods</span> <span class="kn">import</span> <span class="n">get_indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">A</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">IndexedBase</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;i j a z&#39;</span><span class="p">,</span> <span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The indices of the total expression is determined, Repeated indices imply a
summation, for instance the trace of a matrix A:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_indices</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">])</span>
<span class="go">(set(), {})</span>
</pre></div>
</div>
<p>In the case of many terms, the terms are required to have identical
outer indices.  Else an IndexConformanceException is raised.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_indices</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<span class="go">(set([i]), {})</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Exceptions :</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p>An IndexConformanceException means that the terms ar not compatible, e.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_indices</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>                
<span class="go">        (...)</span>
<span class="go">IndexConformanceException: Indices are not consistent: x(i) + y(j)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The concept of <em>outer</em> indices applies recursively, starting on the deepest
level.  This implies that dummies inside parenthesis are assumed to be
summed first, so that the following expression is handled gracefully:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_indices</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<span class="go">(set([i, j]), {})</span>
</pre></div>
</div>
<p class="last">This is correct and may appear convenient, but you need to be careful
with this as Sympy wil happily .expand() the product, if requested.  The
resulting expression would mix the outer <tt class="docutils literal"><span class="pre">j</span></tt> with the dummies inside
the parenthesis, which makes it a different expression.  To be on the
safe side, it is best to avoid such ambiguities by using unique indices
for all contractions that should be held separate.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sympy.tensor.index_methods.get_contraction_structure">
<tt class="descclassname">sympy.tensor.index_methods.</tt><tt class="descname">get_contraction_structure</tt><big>(</big><em>expr</em><big>)</big><a class="reference internal" href="../_modules/sympy/tensor/index_methods.html#get_contraction_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sympy.tensor.index_methods.get_contraction_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine dummy indices of <tt class="docutils literal"><span class="pre">expr</span></tt> and describe it&#8217;s structure</p>
<p>By <em>dummy</em> we mean indices that are summation indices.</p>
<p>The stucture of the expression is determined and described as follows:</p>
<ol class="arabic">
<li><p class="first">A conforming summation of Indexed objects is described with a dict where
the keys are summation indices and the corresponding values are sets
containing all terms for which the summation applies.  All Add objects
in the Sympy expression tree are described like this.</p>
</li>
<li><p class="first">For all nodes in the Sympy expression tree that are <em>not</em> of type Add, the
following applies:</p>
<p>If a node discovers contractions in one of it&#8217;s arguments, the node
itself will be stored as a key in the dict.  For that key, the
corresponding value is a list of dicts, each of which is the result of a
recursive call to get_contraction_structure().  The list contains only
dicts for the non-trivial deeper contractions, ommitting dicts with None
as the one and only key.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The presence of expressions among the dictinary keys indicates
multiple levels of index contractions.  A nested dict displays nested
contractions and may itself contain dicts from a deeper level.  In
practical calculations the summation in the deepest nested level must be
calculated first so that the outer expression can access the resulting
indexed object.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Examples :</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor.index_methods</span> <span class="kn">import</span> <span class="n">get_contraction_structure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.tensor</span> <span class="kn">import</span> <span class="n">IndexedBase</span><span class="p">,</span> <span class="n">Idx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">A</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">IndexedBase</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">Idx</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="s">&#39;k&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
<span class="go">{(i,): set([x[i]*y[i]]), (j,): set([A[j, j]])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<span class="go">{None: set([x[i]*y[j]])}</span>
</pre></div>
</div>
<p>A multiplication of contracted factors results in nested dicts representing
the internal contractions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[None, x[i, i]*y[j, j]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="bp">None</span><span class="p">]</span>  <span class="c"># Note that the product has no contractions</span>
<span class="go">set([x[i, i]*y[j, j]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">]])</span>  <span class="c"># factors are contracted ``first&#39;&#39;</span>
<span class="go">[{(i,): set([x[i, i]])}, {(j,): set([y[j, j]])}]</span>
</pre></div>
</div>
<p>A parenthesized Add object is also returned as a nested dictionary.  The
term containing the parenthesis is a Mul with a contraction among the
arguments, so it will be found as a key in the result.  It stores the
dictionary resulting from a recursive call on the Add expression.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[(i,), x[i]*(y[i] + A[i, j]*x[j])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[(</span><span class="n">i</span><span class="p">,)]</span>
<span class="go">set([x[i]*(y[i] + A[i, j]*x[j])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])]</span>
<span class="go">[{None: set([y[i]]), (j,): set([A[i, j]*x[j]])}]</span>
</pre></div>
</div>
<p>Powers with contractions in either base or exponent will also be found as
keys in the dictionary, mapping to a list of results from recursive calls:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">get_contraction_structure</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="bp">None</span><span class="p">]</span>
<span class="go">set([A[j, j]**A[i, i]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_contractions</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">**</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_contractions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{(j,): set([A[j, j]])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_contractions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">{(i,): set([A[i, i]])}</span>
</pre></div>
</div>
<p>The description of the contraction structure may appear complicated when
represented with a string in the above examples, but it is easy to iterate
over:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Expr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">Expr</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">continue</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>            <span class="c"># treat deepest contraction first</span>
<span class="gp">... </span>            <span class="k">pass</span>
<span class="gp">... </span>    <span class="c"># treat outermost contactions here</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/sympylogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tensor Module</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="solvers/solvers.html"
                        title="previous chapter">Solvers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities/index.html"
                        title="next chapter">Utilities</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/tensor.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities/index.html" title="Utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="solvers/solvers.html" title="Solvers"
             >previous</a> |</li>
        <li><a href="../index.html">SymPy v0.7.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >SymPy Modules Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, 2009, 2010, 2011 SymPy Development Team.
      Last updated on Jul 29, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>